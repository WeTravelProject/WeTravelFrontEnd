{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{storage}from'../Upload';import{ref,uploadBytes}from'firebase/storage';export var UploadImage=function UploadImage(imageList,path,count,setLeng,id,backPath,index,lastPath){var image=_toConsumableArray(imageList);console.log('uploading',image);var pathIndex=\"\".concat(lastPath);if(index>0){pathIndex=\"\".concat(index,\"/\").concat(lastPath);}for(var i=0;i<imageList.length;i++){console.log(\"Upload\");var imageService=ref(storage,\"\".concat(path,\"/\").concat(id,\"/\").concat(backPath,\"/\").concat(pathIndex,\"/image-\").concat(i));uploadBytes(imageService,image[i]).then(function(){console.log(\"Uploaded\");setLeng(function(pre){return pre+1;});}).catch(function(e){console.log('Update image err: ',e);});}};","map":{"version":3,"names":["storage","ref","uploadBytes","UploadImage","imageList","path","count","setLeng","id","backPath","index","lastPath","image","console","log","pathIndex","i","length","imageService","then","pre","catch","e"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/firebase/UploadImage/index.js"],"sourcesContent":["import { storage } from '../Upload'\r\nimport { ref, uploadBytes } from 'firebase/storage'\r\n\r\nexport const UploadImage = (imageList, path, count, setLeng, id, backPath, index, lastPath) => {\r\n    const image = [...imageList]\r\n    console.log('uploading', image)\r\n    let pathIndex = `${lastPath}`\r\n    if (index > 0) {\r\n        pathIndex = `${index}/${lastPath}`\r\n    }\r\n    for (let i = 0; i < imageList.length; i++) {\r\n        console.log(`Upload`)\r\n        const imageService = ref(storage, `${path}/${id}/${backPath}/${pathIndex}/image-${i}`);\r\n        uploadBytes(imageService, image[i]).then(() => {\r\n            console.log(`Uploaded`)\r\n            setLeng(pre => pre + 1)\r\n        }).catch((e) => {\r\n            console.log('Update image err: ', e)\r\n        })\r\n    }\r\n}"],"mappings":"iJAAA,OAASA,OAAT,KAAwB,WAAxB,CACA,OAASC,GAAT,CAAcC,WAAd,KAAiC,kBAAjC,CAEA,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,SAAD,CAAYC,IAAZ,CAAkBC,KAAlB,CAAyBC,OAAzB,CAAkCC,EAAlC,CAAsCC,QAAtC,CAAgDC,KAAhD,CAAuDC,QAAvD,CAAoE,CAC3F,GAAMC,MAAK,oBAAOR,SAAP,CAAX,CACAS,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBF,KAAzB,EACA,GAAIG,UAAS,WAAMJ,QAAN,CAAb,CACA,GAAID,KAAK,CAAG,CAAZ,CAAe,CACXK,SAAS,WAAML,KAAN,aAAeC,QAAf,CAAT,CACH,CACD,IAAK,GAAIK,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGZ,SAAS,CAACa,MAA9B,CAAsCD,CAAC,EAAvC,CAA2C,CACvCH,OAAO,CAACC,GAAR,WACA,GAAMI,aAAY,CAAGjB,GAAG,CAACD,OAAD,WAAaK,IAAb,aAAqBG,EAArB,aAA2BC,QAA3B,aAAuCM,SAAvC,mBAA0DC,CAA1D,EAAxB,CACAd,WAAW,CAACgB,YAAD,CAAeN,KAAK,CAACI,CAAD,CAApB,CAAX,CAAoCG,IAApC,CAAyC,UAAM,CAC3CN,OAAO,CAACC,GAAR,aACAP,OAAO,CAAC,SAAAa,GAAG,QAAIA,IAAG,CAAG,CAAV,EAAJ,CAAP,CACH,CAHD,EAGGC,KAHH,CAGS,SAACC,CAAD,CAAO,CACZT,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCQ,CAAlC,EACH,CALD,EAMH,CACJ,CAjBM"},"metadata":{},"sourceType":"module"}