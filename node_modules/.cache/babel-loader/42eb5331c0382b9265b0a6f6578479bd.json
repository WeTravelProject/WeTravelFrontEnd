{"ast":null,"code":"import _slicedToArray from\"C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Routes,Route,useNavigate}from'react-router-dom';import{Fragment,useState,memo,useEffect,createContext}from'react';import{publicRoute}from'./routes';import{DefaultLayout}from'./components/Layout';import{ToastContainer,Slide,toast}from'react-toastify';import LoadingBar from'react-top-loading-bar';import{ProSidebarProvider}from'react-pro-sidebar';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap/dist/js/bootstrap.bundle';import'./App.css';import MessengerCustomerChat from'react-messenger-customer-chat';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LanguageShowing=/*#__PURE__*/createContext();function App(){var navigate=useNavigate();var cokkieArr=document.cookie;var language=cokkieArr.split(\"languageSelected=\")[1]?cokkieArr.split(\"languageSelected=\")[1].split(';')[0]:'EN';var email=cokkieArr.split(\"email=\")[1]&&cokkieArr.split(\"email=\")[1].split(';')[0];var password=cokkieArr.split(\"password=\")[1]&&cokkieArr.split(\"password=\")[1].split(';')[0];if(email&&password){//Tự động đăng nhập bằng cookie email và password bên trên\n}var _useState=useState(language),_useState2=_slicedToArray(_useState,2),languageSelected=_useState2[0],setLanguageSelected=_useState2[1];var _useState3=useState(100),_useState4=_slicedToArray(_useState3,2),progress=_useState4[0],setProgress=_useState4[1];// useEffect(() => {\n//   if (sessionStorage.getItem('email') === null && window.location.pathname !== '/' && window.location.pathname !== '/register' && window.location.pathname !== '/register-partner' && window.location.pathname !== '/checkmail'\n//     && window.location.pathname !== '/register-information-customer' && window.location.pathname !== '/register-information-partner' && window.location.pathname !== '/register-profile-partner'\n//     && window.location.pathname !== '/select-service') {\n//     navigate('/')\n//     toast.warning('Bạn chưa đăng nhập')\n//   }\n// })\nuseEffect(function(){if(sessionStorage.getItem('role')==1&&!window.location.pathname.includes('/admin')||sessionStorage.getItem('role')!=1&&window.location.pathname.includes('/admin')||sessionStorage.getItem('role')==3&&window.location.pathname.includes('/partner')&&window.location.pathname!='/error'){navigate('/error');}},[window.location.pathname]);useEffect(function(){window.scrollTo(0,0);});return/*#__PURE__*/_jsx(LanguageShowing.Provider,{value:languageSelected,children:/*#__PURE__*/_jsx(ProSidebarProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ToastContainer,{transition:Slide,position:\"top-right\",autoClose:3000,hideProgressBar:true,newestOnTop:true,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:false,theme:\"light\"}),/*#__PURE__*/_jsx(LoadingBar,{height:2,loaderSpeed:500,color:\"#4874E8\",progress:progress}),/*#__PURE__*/_jsx(Routes,{children:publicRoute.map(function(route,index){var Layout=DefaultLayout;var image;var role;var changePassword=false;var SecondLayout;if(route.layout){Layout=route.layout;}else if(route.layout===null){Layout=Fragment;}if(route.image!==null){image=route.image;}if(route.role!==null){role=route.role;}if(route.changePassword){changePassword=true;}if(route.secondLayout){SecondLayout=route.secondLayout;}var Page=route.component;return/*#__PURE__*/_jsx(Route,{path:route.path,element:/*#__PURE__*/_jsx(Layout,{setProgress:setProgress,changePassword:changePassword,languageSelected:languageSelected,setLanguageSelected:setLanguageSelected,image:image,children:SecondLayout?/*#__PURE__*/_jsx(SecondLayout,{setProgress:setProgress,languageSelected:languageSelected,role:role,children:/*#__PURE__*/_jsx(Page,{setProgress:setProgress,languageSelected:languageSelected,role:role})}):/*#__PURE__*/_jsx(Page,{setProgress:setProgress,languageSelected:languageSelected,role:role})})},index);})}),/*#__PURE__*/_jsx(MessengerCustomerChat,{pageId:\"100086439965671\",appId:\"795772414815290\"})]})})});}export default/*#__PURE__*/memo(App);","map":{"version":3,"names":["Routes","Route","useNavigate","Fragment","useState","memo","useEffect","createContext","publicRoute","DefaultLayout","ToastContainer","Slide","toast","LoadingBar","ProSidebarProvider","axios","MessengerCustomerChat","LanguageShowing","App","navigate","cokkieArr","document","cookie","language","split","email","password","languageSelected","setLanguageSelected","progress","setProgress","sessionStorage","getItem","window","location","pathname","includes","scrollTo","map","route","index","Layout","image","role","changePassword","SecondLayout","layout","secondLayout","Page","component","path"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/App.js"],"sourcesContent":["import { Routes, Route, useNavigate } from 'react-router-dom'\r\nimport { Fragment, useState, memo, useEffect, createContext } from 'react';\r\nimport { publicRoute } from './routes'\r\nimport { DefaultLayout } from './components/Layout';\r\nimport { ToastContainer, Slide, toast } from 'react-toastify'\r\nimport LoadingBar from 'react-top-loading-bar'\r\nimport { ProSidebarProvider } from 'react-pro-sidebar'\r\nimport axios from 'axios'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'bootstrap/dist/js/bootstrap.bundle'\r\nimport './App.css'\r\nimport MessengerCustomerChat from 'react-messenger-customer-chat';\r\n\r\nexport const LanguageShowing = createContext()\r\n\r\nfunction App() {\r\n  const navigate = useNavigate()\r\n\r\n  const cokkieArr = document.cookie;\r\n  const language = (cokkieArr.split(\"languageSelected=\")[1] ? cokkieArr.split(\"languageSelected=\")[1].split(';')[0] : 'EN')\r\n  const email = cokkieArr.split(\"email=\")[1] && cokkieArr.split(\"email=\")[1].split(';')[0]\r\n  const password = cokkieArr.split(\"password=\")[1] && cokkieArr.split(\"password=\")[1].split(';')[0]\r\n\r\n  if (email && password) {\r\n    //Tự động đăng nhập bằng cookie email và password bên trên\r\n  }\r\n\r\n  const [languageSelected, setLanguageSelected] = useState(language)\r\n  const [progress, setProgress] = useState(100)\r\n\r\n  // useEffect(() => {\r\n  //   if (sessionStorage.getItem('email') === null && window.location.pathname !== '/' && window.location.pathname !== '/register' && window.location.pathname !== '/register-partner' && window.location.pathname !== '/checkmail'\r\n  //     && window.location.pathname !== '/register-information-customer' && window.location.pathname !== '/register-information-partner' && window.location.pathname !== '/register-profile-partner'\r\n  //     && window.location.pathname !== '/select-service') {\r\n  //     navigate('/')\r\n  //     toast.warning('Bạn chưa đăng nhập')\r\n  //   }\r\n  // })\r\n\r\n  useEffect(() => {\r\n    if ((sessionStorage.getItem('role') == 1 && !window.location.pathname.includes('/admin')) ||\r\n      (sessionStorage.getItem('role') != 1 && window.location.pathname.includes('/admin')) ||\r\n      (sessionStorage.getItem('role') == 3 && window.location.pathname.includes('/partner')) && window.location.pathname != ('/error')) {\r\n      navigate('/error')\r\n    }\r\n  }, [window.location.pathname])\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  })\r\n\r\n  return (\r\n    <LanguageShowing.Provider value={languageSelected}>\r\n      <ProSidebarProvider>\r\n        <div className=\"App\">\r\n          <ToastContainer\r\n            transition={Slide}\r\n            position=\"top-right\"\r\n            autoClose={3000}\r\n            hideProgressBar\r\n            newestOnTop\r\n            closeOnClick\r\n            rtl={false}\r\n            pauseOnFocusLoss\r\n            draggable\r\n            pauseOnHover={false}\r\n            theme=\"light\"\r\n          />\r\n          <LoadingBar\r\n            height={2}\r\n            loaderSpeed={500}\r\n            color='#4874E8'\r\n            progress={progress}\r\n          />\r\n          <Routes>\r\n            {publicRoute.map((route, index) => {\r\n              let Layout = DefaultLayout;\r\n              let image;\r\n              let role;\r\n              let changePassword = false;\r\n              let SecondLayout;\r\n\r\n              if (route.layout) { Layout = route.layout }\r\n              else if (route.layout === null) { Layout = Fragment }\r\n\r\n              if (route.image !== null) { image = route.image }\r\n\r\n              if (route.role !== null) { role = route.role }\r\n\r\n              if (route.changePassword) { changePassword = true }\r\n\r\n              if (route.secondLayout) { SecondLayout = route.secondLayout }\r\n\r\n              const Page = route.component\r\n              return <Route key={index}\r\n                path={route.path}\r\n                element={<Layout setProgress={setProgress} changePassword={changePassword} languageSelected={languageSelected} setLanguageSelected={setLanguageSelected} image={image}>\r\n                  {SecondLayout ? <SecondLayout setProgress={setProgress} languageSelected={languageSelected} role={role}>\r\n                    <Page setProgress={setProgress} languageSelected={languageSelected} role={role} />\r\n                  </SecondLayout> :\r\n                    <Page setProgress={setProgress} languageSelected={languageSelected} role={role} />\r\n                  }\r\n\r\n                </Layout>} />\r\n            })}\r\n          </Routes>\r\n          <MessengerCustomerChat\r\n            pageId=\"100086439965671\"\r\n            appId=\"795772414815290\"\r\n          />\r\n        </div>\r\n      </ProSidebarProvider>\r\n    </LanguageShowing.Provider>\r\n  );\r\n}\r\n\r\nexport default memo(App);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}