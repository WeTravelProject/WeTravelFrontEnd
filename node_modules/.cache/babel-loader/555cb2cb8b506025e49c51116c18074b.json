{"ast":null,"code":"import { storage } from '../Upload';\nimport { ref, uploadBytes } from 'firebase/storage';\nexport const UploadImage = (imageList, path, count, setLeng, id, backPath, index, lastPath) => {\n  const image = [...imageList];\n  console.log('uploading', image);\n  let pathIndex = `${lastPath}`;\n\n  if (index > 0) {\n    pathIndex = `${index}/${lastPath}`;\n  }\n\n  for (let i = 0; i < imageList.length; i++) {\n    console.log(`Upload`);\n    const imageService = ref(storage, `${path}/${id}/${backPath}/${pathIndex}/image-${i}`);\n    uploadBytes(imageService, image[i]).then(() => {\n      console.log(`Uploaded`);\n      setLeng(pre => pre + 1);\n    }).catch(e => {\n      console.log('Update image err: ', e);\n    });\n  }\n};\n_c = UploadImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"names":["storage","ref","uploadBytes","UploadImage","imageList","path","count","setLeng","id","backPath","index","lastPath","image","console","log","pathIndex","i","length","imageService","then","pre","catch","e"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/firebase/UploadImage/index.js"],"sourcesContent":["import { storage } from '../Upload'\r\nimport { ref, uploadBytes } from 'firebase/storage'\r\n\r\nexport const UploadImage = (imageList, path, count, setLeng, id, backPath, index, lastPath) => {\r\n    const image = [...imageList]\r\n    console.log('uploading', image)\r\n    let pathIndex = `${lastPath}`\r\n    if (index > 0) {\r\n        pathIndex = `${index}/${lastPath}`\r\n    }\r\n    for (let i = 0; i < imageList.length; i++) {\r\n        console.log(`Upload`)\r\n        const imageService = ref(storage, `${path}/${id}/${backPath}/${pathIndex}/image-${i}`);\r\n        uploadBytes(imageService, image[i]).then(() => {\r\n            console.log(`Uploaded`)\r\n            setLeng(pre => pre + 1)\r\n        }).catch((e) => {\r\n            console.log('Update image err: ', e)\r\n        })\r\n    }\r\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AACA,SAASC,GAAT,EAAcC,WAAd,QAAiC,kBAAjC;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,SAAD,EAAYC,IAAZ,EAAkBC,KAAlB,EAAyBC,OAAzB,EAAkCC,EAAlC,EAAsCC,QAAtC,EAAgDC,KAAhD,EAAuDC,QAAvD,KAAoE;EAC3F,MAAMC,KAAK,GAAG,CAAC,GAAGR,SAAJ,CAAd;EACAS,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,KAAzB;EACA,IAAIG,SAAS,GAAI,GAAEJ,QAAS,EAA5B;;EACA,IAAID,KAAK,GAAG,CAAZ,EAAe;IACXK,SAAS,GAAI,GAAEL,KAAM,IAAGC,QAAS,EAAjC;EACH;;EACD,KAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,SAAS,CAACa,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;IACvCH,OAAO,CAACC,GAAR,CAAa,QAAb;IACA,MAAMI,YAAY,GAAGjB,GAAG,CAACD,OAAD,EAAW,GAAEK,IAAK,IAAGG,EAAG,IAAGC,QAAS,IAAGM,SAAU,UAASC,CAAE,EAA5D,CAAxB;IACAd,WAAW,CAACgB,YAAD,EAAeN,KAAK,CAACI,CAAD,CAApB,CAAX,CAAoCG,IAApC,CAAyC,MAAM;MAC3CN,OAAO,CAACC,GAAR,CAAa,UAAb;MACAP,OAAO,CAACa,GAAG,IAAIA,GAAG,GAAG,CAAd,CAAP;IACH,CAHD,EAGGC,KAHH,CAGUC,CAAD,IAAO;MACZT,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCQ,CAAlC;IACH,CALD;EAMH;AACJ,CAjBM;KAAMnB,W"},"metadata":{},"sourceType":"module"}