{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Hoc ReactJS\\\\wetravelfrontend\\\\src\\\\components\\\\Layout\\\\GoogleMapLayout\\\\index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport ComboBox from \"react-responsive-combo-box\";\nimport \"react-responsive-combo-box/dist/index.css\";\nimport '@reach/combobox/styles.css';\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\nimport { memo, useState, useCallback, useEffect } from 'react';\nimport './GoogleMapLayout.scss';\nimport { english, vietnamese } from '../../Languages/MoreInformationTour';\nimport SearchMap from '../../images/map-search.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GoogleMapLayout(_ref) {\n  _s();\n\n  let {\n    languageSelected,\n    style,\n    tour,\n    setTour,\n    hadOnclick,\n    hadSearch,\n    clickMarker\n  } = _ref;\n  const txtSearch = languageSelected === 'EN' ? english.txtSearchAddress : vietnamese.txtSearchAddress;\n  let center = {\n    lat: tour.latitude,\n    lng: tour.longitude\n  };\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: \"AIzaSyBZDeLRK0328QFPaSs-OCk03bMUOHXaMys\",\n    libraries: [\"places\"]\n  });\n\n  const handleClickMap = latLng => {\n    setTour({ ...tour,\n      latitude: latLng.lat(),\n      longitude: latLng.lng()\n    });\n  };\n\n  const [map, setMap] = useState(null);\n  const onLoad = useCallback(function callback(map) {\n    const bounds = new window.google.maps.LatLngBounds(center);\n    map.fitBounds(bounds);\n    setMap(map);\n  }, []);\n  const onUnmount = useCallback(function callback(map) {\n    setMap(null);\n  }, []);\n  return isLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: style,\n      center: center,\n      zoom: 15,\n      onLoad: onLoad,\n      onUnmount: onUnmount,\n      onClick: hadOnclick && (e => handleClickMap(e.latLng)),\n      children: /*#__PURE__*/_jsxDEV(Marker, {\n        position: {\n          lat: tour.latitude,\n          lng: tour.longitude\n        },\n        onClick: clickMarker\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), hadSearch && /*#__PURE__*/_jsxDEV(PlacesAutoComplete, {\n      setTour: setTour,\n      tour: tour,\n      txtSearch: txtSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GoogleMapLayout, \"sc/DS85Udqb0HC94DVNruSImuio=\", false, function () {\n  return [useJsApiLoader];\n});\n\n_c = GoogleMapLayout;\n\nconst PlacesAutoComplete = _ref2 => {\n  _s2();\n\n  let {\n    setTour,\n    tour,\n    txtSearch\n  } = _ref2;\n  const [focus, setFocus] = useState(false);\n  const optionFake = [];\n  const {\n    ready,\n    value,\n    setValue,\n    suggestions: {\n      status,\n      data\n    },\n    clearSuggestions\n  } = usePlacesAutocomplete();\n\n  const handleSelect = async address => {\n    setValue(address, false);\n    clearSuggestions();\n    const results = await getGeocode({\n      address\n    });\n    const {\n      lat,\n      lng\n    } = await getLatLng(results[0]);\n    setTour({ ...tour,\n      latitude: lat\n    });\n    setTour({ ...tour,\n      longitude: lng\n    });\n  };\n\n  useEffect(() => {\n    data.map(_ref3 => {\n      let {\n        description\n      } = _ref3;\n      return optionFake.push(description);\n    });\n  }, [data, status]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"combobox-maps\",\n    children: focus ? /*#__PURE__*/_jsxDEV(ComboBox, {\n      onChange: e => setValue(e.target.value),\n      value: value,\n      placeholder: txtSearch,\n      onSelect: e => handleSelect(e.target.value),\n      options: optionFake,\n      renderOptions: option => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: option\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this),\n      onBlur: value.length == 0 && (() => setFocus(!focus))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-map-icon-back\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: SearchMap,\n        onClick: () => setFocus(!focus)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this); // <Combobox onSelect={handleSelect} className='combobox-maps'>\n  //     {focus ? <><ComboboxInput value={value} onChange={e => setValue(e.target.value)} disabled={!ready}\n  //         className='combobox-input-maps' placeholder={txtSearch} onBlur={value.length == 0 && (() => setFocus(!focus))} />\n  //         <ComboboxPopover>\n  //             <ComboboxList>\n  //                 {status === 'OK' && data.map(({ place_id, description }) => (\n  //                     <ComboboxOption key={place_id} value={description} />\n  //                 ))\n  //                 }\n  //             </ComboboxList>\n  //         </ComboboxPopover>\n  //     </>\n  //         :\n  //         <div className='search-map-icon-back'>\n  //             <img src={SearchMap} onClick={() => setFocus(!focus)} />\n  //         </div>\n  //     }\n  // </Combobox>\n};\n\n_s2(PlacesAutoComplete, \"E/2P1JIQqBSKSjZjdWbMK4NKrCA=\", false, function () {\n  return [usePlacesAutocomplete];\n});\n\n_c2 = PlacesAutoComplete;\nexport default _c3 = /*#__PURE__*/memo(GoogleMapLayout);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GoogleMapLayout\");\n$RefreshReg$(_c2, \"PlacesAutoComplete\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"names":["usePlacesAutocomplete","getGeocode","getLatLng","ComboBox","GoogleMap","useJsApiLoader","Marker","memo","useState","useCallback","useEffect","english","vietnamese","SearchMap","GoogleMapLayout","languageSelected","style","tour","setTour","hadOnclick","hadSearch","clickMarker","txtSearch","txtSearchAddress","center","lat","latitude","lng","longitude","isLoaded","id","googleMapsApiKey","libraries","handleClickMap","latLng","map","setMap","onLoad","callback","bounds","window","google","maps","LatLngBounds","fitBounds","onUnmount","e","PlacesAutoComplete","focus","setFocus","optionFake","ready","value","setValue","suggestions","status","data","clearSuggestions","handleSelect","address","results","description","push","target","option","length"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/components/Layout/GoogleMapLayout/index.js"],"sourcesContent":["import usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete'\r\nimport ComboBox from \"react-responsive-combo-box\";\r\nimport \"react-responsive-combo-box/dist/index.css\";\r\nimport '@reach/combobox/styles.css'\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\nimport { memo, useState, useCallback, useEffect } from 'react'\r\nimport './GoogleMapLayout.scss'\r\nimport { english, vietnamese } from '../../Languages/MoreInformationTour';\r\nimport SearchMap from '../../images/map-search.png'\r\n\r\nfunction GoogleMapLayout({ languageSelected, style, tour, setTour, hadOnclick, hadSearch, clickMarker }) {\r\n    const txtSearch = (languageSelected === 'EN' ? english.txtSearchAddress : vietnamese.txtSearchAddress)\r\n\r\n    let center = {\r\n        lat: tour.latitude,\r\n        lng: tour.longitude\r\n    };\r\n\r\n    const { isLoaded } = useJsApiLoader({\r\n        id: 'google-map-script',\r\n        googleMapsApiKey: \"AIzaSyBZDeLRK0328QFPaSs-OCk03bMUOHXaMys\",\r\n        libraries: [\"places\"]\r\n    })\r\n\r\n    const handleClickMap = ((latLng) => {\r\n        setTour({ ...tour, latitude: latLng.lat(), longitude: latLng.lng() })\r\n    })\r\n\r\n    const [map, setMap] = useState(null)\r\n\r\n    const onLoad = useCallback(function callback(map) {\r\n        const bounds = new window.google.maps.LatLngBounds(center);\r\n        map.fitBounds(bounds);\r\n        setMap(map)\r\n    }, [])\r\n\r\n    const onUnmount = useCallback(function callback(map) {\r\n        setMap(null)\r\n    }, [])\r\n\r\n    return (isLoaded &&\r\n        <div>\r\n            <GoogleMap\r\n                mapContainerStyle={style}\r\n                center={center}\r\n                zoom={15}\r\n                onLoad={onLoad}\r\n                onUnmount={onUnmount}\r\n                onClick={hadOnclick && ((e) => handleClickMap(e.latLng))}\r\n            >\r\n                <Marker position={{\r\n                    lat: tour.latitude,\r\n                    lng: tour.longitude\r\n                }} onClick={clickMarker} />\r\n            </GoogleMap>\r\n            {hadSearch &&\r\n                <PlacesAutoComplete setTour={setTour} tour={tour} txtSearch={txtSearch} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst PlacesAutoComplete = ({ setTour, tour, txtSearch }) => {\r\n    const [focus, setFocus] = useState(false)\r\n\r\n    const optionFake = []\r\n\r\n    const {\r\n        ready,\r\n        value,\r\n        setValue,\r\n        suggestions: { status, data },\r\n        clearSuggestions\r\n    } = usePlacesAutocomplete()\r\n\r\n    const handleSelect = (async (address) => {\r\n        setValue(address, false)\r\n        clearSuggestions()\r\n\r\n        const results = await getGeocode({ address });\r\n        const { lat, lng } = await getLatLng(results[0])\r\n        setTour({ ...tour, latitude: lat })\r\n        setTour({ ...tour, longitude: lng })\r\n    })\r\n\r\n    useEffect(() => {\r\n        data.map(({ description }) => optionFake.push(description))\r\n    }, [data, status])\r\n\r\n    return (\r\n        <div className='combobox-maps'>\r\n            {focus ? <ComboBox onChange={e => setValue(e.target.value)} value={value} placeholder={txtSearch} onSelect={(e) => handleSelect(e.target.value)}\r\n                options={optionFake} renderOptions={(option) => (\r\n                    <div>{option}</div>\r\n                )} onBlur={value.length == 0 && (() => setFocus(!focus))} /> :\r\n                <div className='search-map-icon-back'>\r\n                    <img src={SearchMap} onClick={() => setFocus(!focus)} />\r\n                </div>}\r\n        </div>\r\n    )\r\n\r\n\r\n    // <Combobox onSelect={handleSelect} className='combobox-maps'>\r\n    //     {focus ? <><ComboboxInput value={value} onChange={e => setValue(e.target.value)} disabled={!ready}\r\n    //         className='combobox-input-maps' placeholder={txtSearch} onBlur={value.length == 0 && (() => setFocus(!focus))} />\r\n    //         <ComboboxPopover>\r\n    //             <ComboboxList>\r\n    //                 {status === 'OK' && data.map(({ place_id, description }) => (\r\n    //                     <ComboboxOption key={place_id} value={description} />\r\n    //                 ))\r\n    //                 }\r\n    //             </ComboboxList>\r\n    //         </ComboboxPopover>\r\n    //     </>\r\n    //         :\r\n    //         <div className='search-map-icon-back'>\r\n    //             <img src={SearchMap} onClick={() => setFocus(!focus)} />\r\n    //         </div>\r\n    //     }\r\n\r\n    // </Combobox>\r\n}\r\n\r\nexport default memo(GoogleMapLayout)"],"mappings":"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"},"metadata":{},"sourceType":"module"}