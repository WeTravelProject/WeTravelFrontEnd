{"ast":null,"code":"function Momo(rawRequestId, rawOrderInfo, rawAmount) {\n  //https://developers.momo.vn/#/docs/en/aiov2/?id=payment-method\n  //parameters\n  var partnerCode = \"MOMOFHZ620220926\";\n  var accessKey = \"kujPw2Rq6sYwA8bW\";\n  var secretkey = \"kwaXkpLQ0EfpqcfNQmdEDrBj7XdMgojS\";\n  var requestId = rawRequestId;\n  var orderId = requestId;\n  var orderInfo = rawOrderInfo;\n  var redirectUrl = \"https://www.youtube.com\";\n  var ipnUrl = \"https://www.youtube.com\"; // var ipnUrl = redirectUrl = \"https://webhook.site/454e7b77-f177-4ece-8236-ddf1c26ba7f8\";\n\n  var amount = rawAmount;\n  var requestType = \"captureWallet\";\n  var extraData = \"\"; //pass empty value if your merchant does not have stores\n  //before sign HMAC SHA256 with format\n  //accessKey=$accessKey&amount=$amount&extraData=$extraData&ipnUrl=$ipnUrl&orderId=$orderId&orderInfo=$orderInfo&partnerCode=$partnerCode&redirectUrl=$redirectUrl&requestId=$requestId&requestType=$requestType\n\n  var rawSignature = \"accessKey=\" + accessKey + \"&amount=\" + amount + \"&extraData=\" + extraData + \"&ipnUrl=\" + ipnUrl + \"&orderId=\" + orderId + \"&orderInfo=\" + orderInfo + \"&partnerCode=\" + partnerCode + \"&redirectUrl=\" + redirectUrl + \"&requestId=\" + requestId + \"&requestType=\" + requestType; //puts raw signature\n\n  console.log(\"--------------------RAW SIGNATURE----------------\");\n  console.log(rawSignature); //signature\n\n  const crypto = require('crypto');\n\n  var signature = crypto.createHmac('sha256', secretkey).update(rawSignature).digest('hex');\n  console.log(\"--------------------SIGNATURE----------------\");\n  console.log(signature); //json object send to MoMo endpoint\n\n  const requestBody = JSON.stringify({\n    partnerCode: partnerCode,\n    accessKey: accessKey,\n    requestId: requestId,\n    amount: amount,\n    orderId: orderId,\n    orderInfo: orderInfo,\n    redirectUrl: redirectUrl,\n    ipnUrl: ipnUrl,\n    extraData: extraData,\n    requestType: requestType,\n    signature: signature,\n    lang: 'en'\n  }); //Create the HTTPS objects\n\n  const https = require('https');\n\n  const options = {\n    hostname: 'test-payment.momo.vn',\n    port: 443,\n    path: '/v2/gateway/api/create',\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Content-Length': Buffer.byteLength(requestBody)\n    }\n  }; //Send the request and get the response\n\n  const req = https.request(options, res => {\n    console.log(`Status: ${res.statusCode}`);\n    console.log(`Headers: ${JSON.stringify(res.headers)}`);\n    res.setEncoding('utf8');\n    res.on('data', body => {\n      window.location.href = JSON.parse(body).payUrl;\n    });\n    res.on('end', () => {\n      console.log('No more data in response.');\n    });\n  });\n  req.on('error', e => {\n    console.log(`problem with request: ${e.message}`);\n  }); // write data to request body\n\n  console.log(\"Sending....\");\n  req.write(requestBody);\n  req.end();\n}\n\n_c = Momo;\nexport default Momo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Momo\");","map":{"version":3,"names":["Momo","rawRequestId","rawOrderInfo","rawAmount","partnerCode","accessKey","secretkey","requestId","orderId","orderInfo","redirectUrl","ipnUrl","amount","requestType","extraData","rawSignature","console","log","crypto","require","signature","createHmac","update","digest","requestBody","JSON","stringify","lang","https","options","hostname","port","path","method","headers","Buffer","byteLength","req","request","res","statusCode","setEncoding","on","body","window","location","href","parse","payUrl","e","message","write","end"],"sources":["C:/Users/ADMIN/Desktop/Hoc ReactJS/wetravelfrontend/src/components/pages/Momo/index.js"],"sourcesContent":["function Momo(rawRequestId, rawOrderInfo, rawAmount) {\r\n\r\n    //https://developers.momo.vn/#/docs/en/aiov2/?id=payment-method\r\n    //parameters\r\n    var partnerCode = \"MOMOFHZ620220926\";\r\n    var accessKey = \"kujPw2Rq6sYwA8bW\";\r\n    var secretkey = \"kwaXkpLQ0EfpqcfNQmdEDrBj7XdMgojS\";\r\n    var requestId = rawRequestId;\r\n    var orderId = requestId;\r\n    var orderInfo = rawOrderInfo;\r\n    var redirectUrl = \"https://www.youtube.com\";\r\n    var ipnUrl = \"https://www.youtube.com\";\r\n    // var ipnUrl = redirectUrl = \"https://webhook.site/454e7b77-f177-4ece-8236-ddf1c26ba7f8\";\r\n    var amount = rawAmount;\r\n    var requestType = \"captureWallet\"\r\n    var extraData = \"\"; //pass empty value if your merchant does not have stores\r\n\r\n    //before sign HMAC SHA256 with format\r\n    //accessKey=$accessKey&amount=$amount&extraData=$extraData&ipnUrl=$ipnUrl&orderId=$orderId&orderInfo=$orderInfo&partnerCode=$partnerCode&redirectUrl=$redirectUrl&requestId=$requestId&requestType=$requestType\r\n    var rawSignature = \"accessKey=\" + accessKey + \"&amount=\" + amount + \"&extraData=\" + extraData + \"&ipnUrl=\" + ipnUrl + \"&orderId=\" + orderId + \"&orderInfo=\" + orderInfo + \"&partnerCode=\" + partnerCode + \"&redirectUrl=\" + redirectUrl + \"&requestId=\" + requestId + \"&requestType=\" + requestType\r\n    //puts raw signature\r\n    console.log(\"--------------------RAW SIGNATURE----------------\")\r\n    console.log(rawSignature)\r\n    //signature\r\n    const crypto = require('crypto');\r\n    var signature = crypto.createHmac('sha256', secretkey)\r\n        .update(rawSignature)\r\n        .digest('hex');\r\n    console.log(\"--------------------SIGNATURE----------------\")\r\n    console.log(signature)\r\n\r\n    //json object send to MoMo endpoint\r\n    const requestBody = JSON.stringify({\r\n        partnerCode: partnerCode,\r\n        accessKey: accessKey,\r\n        requestId: requestId,\r\n        amount: amount,\r\n        orderId: orderId,\r\n        orderInfo: orderInfo,\r\n        redirectUrl: redirectUrl,\r\n        ipnUrl: ipnUrl,\r\n        extraData: extraData,\r\n        requestType: requestType,\r\n        signature: signature,\r\n        lang: 'en'\r\n    });\r\n    //Create the HTTPS objects\r\n    const https = require('https');\r\n    const options = {\r\n        hostname: 'test-payment.momo.vn',\r\n        port: 443,\r\n        path: '/v2/gateway/api/create',\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Content-Length': Buffer.byteLength(requestBody)\r\n        }\r\n    }\r\n    //Send the request and get the response\r\n    const req = https.request(options, res => {\r\n        console.log(`Status: ${res.statusCode}`);\r\n        console.log(`Headers: ${JSON.stringify(res.headers)}`);\r\n        res.setEncoding('utf8');\r\n        res.on('data', (body) => {\r\n            window.location.href = JSON.parse(body).payUrl\r\n        });\r\n        res.on('end', () => {\r\n            console.log('No more data in response.');\r\n        });\r\n    })\r\n\r\n    req.on('error', (e) => {\r\n        console.log(`problem with request: ${e.message}`);\r\n    });\r\n    // write data to request body\r\n    console.log(\"Sending....\")\r\n    req.write(requestBody);\r\n    req.end();\r\n}\r\n\r\nexport default Momo;"],"mappings":"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"},"metadata":{},"sourceType":"module"}